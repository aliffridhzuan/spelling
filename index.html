<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Spelling Game</title>
    <style>
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFE66D;
            --background: #F7FFF7;
            --text: #292F36;
            --correct: #6BCB77;
            --wrong: #FF6B6B;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: var(--background);
            color: var(--text);
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }
        
        .subtitle {
            color: var(--secondary);
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .clue-box {
            background-color: var(--accent);
            border-radius: 15px;
            padding: 30px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }
        
        .clue-emoji {
            animation: bounce 1s infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-20px); }
        }
        
        .input-area {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        input[type="text"] {
            padding: 15px;
            font-size: 1.5rem;
            border: 3px solid var(--secondary);
            border-radius: 10px;
            text-align: center;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }
        
        .buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            font-size: 1.2rem;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 rgba(0,0,0,0.2);
        }
        
        button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 rgba(0,0,0,0.2);
        }
        
        .check-btn {
            background-color: var(--correct);
        }
        
        .hint-btn {
            background-color: var(--secondary);
        }
        
        .speak-btn {
            background-color: #FF9E7D;
        }
        
        .language-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .language-tab {
            padding: 8px 16px;
            border-radius: 50px;
            background-color: white;
            border: 2px solid var(--secondary);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .language-tab.active {
            background-color: var(--secondary);
            color: white;
        }
        
        .progress {
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #eee;
            border-radius: 10px;
            flex-grow: 1;
            max-width: 300px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.5s;
        }
        
        .message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.2rem;
            display: none;
        }
        
        .correct {
            background-color: rgba(107, 203, 119, 0.2);
            color: var(--correct);
            display: block;
            animation: pop 0.5s;
        }
        
        .wrong {
            background-color: rgba(255, 107, 107, 0.2);
            color: var(--wrong);
            display: block;
            animation: shake 0.5s;
        }
        
        @keyframes pop {
            0% { transform: scale(0.8); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-10px); }
            40%, 80% { transform: translateX(10px); }
        }
        
        .stars {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 10px;
        }
        
        .star {
            font-size: 2rem;
            color: gold;
            text-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        
        .character-tiles {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }
        
        .character-tile {
            background-color: var(--accent);
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .character-tile:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 0 rgba(0,0,0,0.1);
        }
        
        .character-tile.used {
            opacity: 0.3;
            transform: scale(0.9);
            pointer-events: none;
        }
        
        .confetti {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Fun Spelling Game</h1>
        <p class="subtitle">Learn words in English, Bahasa, and Chinese!</p>
        
        <div class="language-tabs">
            <div class="language-tab active" data-lang="en">English</div>
            <div class="language-tab" data-lang="ms">Bahasa</div>
            <div class="language-tab" data-lang="zh">‰∏≠Êñá</div>
        </div>
        
        <div class="game-area">
            <div class="clue-box">
                <div class="clue-emoji">üë∂</div>
            </div>
            
            <div class="input-area">
                <input type="text" id="answer-input" placeholder="Type the word here..." autocomplete="off">
                
                <div class="character-tiles" id="character-tiles" style="display: none;"></div>
                
                <div class="buttons">
                    <button class="check-btn" id="check-btn">
                        <span>‚úÖ</span> Check
                    </button>
                    <button class="hint-btn" id="hint-btn">
                        <span>üí°</span> Hint
                    </button>
                    <button class="speak-btn" id="speak-btn">
                        <span>üîä</span> Say It
                    </button>
                </div>
            </div>
            
            <div class="message" id="message"></div>
            
            <div class="progress">
                <span id="progress-text">1/7</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
            
            <div class="stars" id="stars">
                <div class="star">‚≠ê</div>
                <div class="star">‚≠ê</div>
                <div class="star">‚≠ê</div>
            </div>
        </div>
    </div>
    
    <canvas class="confetti" id="confetti-canvas"></canvas>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Game data
            const words = {
                en: [
                    { word: "baby", emoji: "üë∂", hint: "b _ _ y" },
                    { word: "sun", emoji: "‚òÄÔ∏è", hint: "s _ n" },
                    { word: "happy", emoji: "üòä", hint: "h _ _ _ y" },
                    { word: "apple", emoji: "üçé", hint: "a _ _ _ e" },
                    { sentence: "I love apples", emoji: "üçé‚ù§Ô∏è", hint: "I _ _ _ apples" }
                ],
                ms: [
                    { word: "matahari", emoji: "‚òÄÔ∏è", hint: "m _ _ _ _ _ _ i" },
                    { word: "buku", emoji: "üìñ", hint: "b _ _ u" },
                    { word: "gajah", emoji: "üêò", hint: "g _ _ _ h" },
                    { sentence: "Saya suka membaca", emoji: "üìöüòä", hint: "S _ _ _ suka membaca" }
                ],
                zh: [
                    { word: "Áå´", emoji: "üê±", pinyin: "mƒÅo", meaning: "cat" },
                    { word: "Áãó", emoji: "üê∂", pinyin: "g«íu", meaning: "dog" },
                    { word: "‰π¶", emoji: "üìñ", pinyin: "sh≈´", meaning: "book" },
                    { word: "‰Ω†Â•Ω", emoji: "üëã", pinyin: "n«ê h«éo", meaning: "hello" }
                ]
            };
            
            // Game state
            let currentLanguage = 'en';
            let currentWords = words.en;
            let currentIndex = 0;
            let score = 0;
            let stars = 0;
            
            // DOM elements
            const clueBox = document.querySelector('.clue-box');
            const answerInput = document.getElementById('answer-input');
            const checkBtn = document.getElementById('check-btn');
            const hintBtn = document.getElementById('hint-btn');
            const speakBtn = document.getElementById('speak-btn');
            const messageDiv = document.getElementById('message');
            const progressText = document.getElementById('progress-text');
            const progressFill = document.getElementById('progress-fill');
            const starsContainer = document.getElementById('stars');
            const characterTiles = document.getElementById('character-tiles');
            const languageTabs = document.querySelectorAll('.language-tab');
            const confettiCanvas = document.getElementById('confetti-canvas');
            
            // Initialize game
            loadWord();
            
            // Event listeners
            checkBtn.addEventListener('click', checkAnswer);
            hintBtn.addEventListener('click', showHint);
            speakBtn.addEventListener('click', speakWord);
            answerInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkAnswer();
                }
            });
            
            languageTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Update active tab
                    languageTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Change language
                    currentLanguage = this.dataset.lang;
                    currentWords = words[currentLanguage];
                    currentIndex = 0;
                    score = 0;
                    updateStars(0);
                    loadWord();
                });
            });
            
            // Game functions
            function loadWord() {
                const currentWord = currentWords[currentIndex];
                
                // Update clue
                clueBox.innerHTML = `<div class="clue-emoji">${currentWord.emoji}</div>`;
                
                // Clear input
                answerInput.value = '';
                messageDiv.className = 'message';
                messageDiv.textContent = '';
                
                // Update progress
                progressText.textContent = `${currentIndex + 1}/${currentWords.length}`;
                progressFill.style.width = `${(currentIndex / (currentWords.length - 1)) * 100}%`;
                
                // Handle character tiles for Chinese words
                characterTiles.innerHTML = '';
                
                if (currentLanguage === 'zh' && currentWord.word.length > 1) {
                    characterTiles.style.display = 'flex';
                    
                    // Create tiles for each character
                    const characters = currentWord.word.split('');
                    characters.forEach(char => {
                        const tile = document.createElement('div');
                        tile.className = 'character-tile';
                        tile.textContent = char;
                        tile.addEventListener('click', function() {
                            answerInput.value += char;
                            this.classList.add('used');
                        });
                        characterTiles.appendChild(tile);
                    });
                } else {
                    characterTiles.style.display = 'none';
                }
                
                // Focus input
                answerInput.focus();
            }
            
            function checkAnswer() {
                const currentWord = currentWords[currentIndex];
                const userAnswer = answerInput.value.trim().toLowerCase();
                let correctAnswer;
                
                if (currentWord.sentence) {
                    correctAnswer = currentWord.word.toLowerCase();
                } else {
                    correctAnswer = currentWord.word.toLowerCase();
                }
                
                if (userAnswer === correctAnswer) {
                    // Correct answer
                    messageDiv.textContent = `Correct! ${currentLanguage === 'zh' ? currentWord.meaning || '' : ''}`;
                    messageDiv.className = 'message correct';
                    
                    // Update score
                    score += 10;
                    stars = Math.floor(score / (currentWords.length * 3.33));
                    updateStars(stars);
                    
                    // Show confetti
                    showConfetti();
                    
                    // Move to next word after delay
                    setTimeout(() => {
                        if (currentIndex < currentWords.length - 1) {
                            currentIndex++;
                            loadWord();
                        } else {
                            messageDiv.textContent = 'Great job! You completed all the words! üéâ';
                            messageDiv.className = 'message correct';
                        }
                    }, 1500);
                } else {
                    // Wrong answer
                    messageDiv.textContent = 'Try again!';
                    messageDiv.className = 'message wrong';
                    
                    // Shake animation
                    answerInput.style.animation = 'shake 0.5s';
                    setTimeout(() => {
                        answerInput.style.animation = '';
                    }, 500);
                }
            }
            
            function showHint() {
                const currentWord = currentWords[currentIndex];
                
                if (currentLanguage === 'zh') {
                    messageDiv.textContent = `Hint: ${currentWord.pinyin} (${currentWord.meaning})`;
                } else {
                    messageDiv.textContent = `Hint: ${currentWord.hint}`;
                }
                
                messageDiv.className = 'message';
            }
            
            function speakWord() {
                const currentWord = currentWords[currentIndex];
                const text = currentWord.sentence ? currentWord.word : currentWord.word;
                const lang = currentLanguage === 'en' ? 'en-US' : 
                             currentLanguage === 'ms' ? 'ms-MY' : 'zh-CN';
                
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = lang;
                    utterance.rate = 0.9;
                    window.speechSynthesis.speak(utterance);
                } else {
                    messageDiv.textContent = 'Speech not supported in your browser';
                    messageDiv.className = 'message';
                }
            }
            
            function updateStars(count) {
                const stars = document.querySelectorAll('.star');
                stars.forEach((star, index) => {
                    star.textContent = index < count ? '‚≠ê' : '‚òÜ';
                });
            }
            
            function showConfetti() {
                confettiCanvas.style.display = 'block';
                const ctx = confettiCanvas.getContext('2d');
                confettiCanvas.width = window.innerWidth;
                confettiCanvas.height = window.innerHeight;
                
                const particles = [];
                const particleCount = 100;
                
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: Math.random() * confettiCanvas.width,
                        y: Math.random() * confettiCanvas.height - confettiCanvas.height,
                        size: Math.random() * 10 + 5,
                        color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                        speed: Math.random() * 3 + 2,
                        angle: Math.random() * Math.PI * 2
                    });
                }
                
                function animate() {
                    ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
                    
                    let stillActive = false;
                    
                    particles.forEach(particle => {
                        particle.y += particle.speed;
                        particle.x += Math.cos(particle.angle) * 0.5;
                        
                        ctx.fillStyle = particle.color;
                        ctx.beginPath();
                        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                        ctx.fill();
                        
                        if (particle.y < confettiCanvas.height) {
                            stillActive = true;
                        }
                    });
                    
                    if (stillActive) {
                        requestAnimationFrame(animate);
                    } else {
                        confettiCanvas.style.display = 'none';
                    }
                }
                
                animate();
            }
        });
    </script>
</body>
</html>
